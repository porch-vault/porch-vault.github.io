<!DOCTYPE html>
<html lang="en-us">
<head>

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    
    
        <meta name="twitter:card" content="summary"/>
    



<meta name="twitter:title" content="Product API"/>
<meta name="twitter:description" content=""/>
<meta name="twitter:site" content="@"/>



  	<meta property="og:title" content="Product API &middot; Porch Vault" />
  	<meta property="og:site_name" content="Porch Vault" />
  	<meta property="og:url" content="https://colorlessean.github.io/post/productapi/" />

    
        
            <meta property="og:image" content="/images/cover.png"/>
        
    

    
    <meta property="og:description" content="" />
  	<meta property="og:type" content="article" />
    <meta property="article:published_time" content="2021-02-27T00:00:00Z" />

    
    

    <title>Product API &middot; Porch Vault</title>

    
    <meta name="description" content="Purpose The product API is the second component of the back-end service. It is responsible for all the business logic in the product.
Security Middleware The pr" />
    

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="https://colorlessean.github.io/images/favicon.ico">
	  <link rel="apple-touch-icon" href="https://colorlessean.github.io/images/apple-touch-icon.png" />

    <link rel="stylesheet" type="text/css" href="https://colorlessean.github.io/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="https://colorlessean.github.io/css/nav.css" />

    

    

    
      
          <link href="https://colorlessean.github.io/index.xml" rel="alternate" type="application/rss+xml" title="Porch Vault" />
      
      
    
    <meta name="generator" content="Hugo 0.68.3" />

    <link rel="canonical" href="https://colorlessean.github.io/post/productapi/" />

    
      
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name":  null ,
        "logo": "https://colorlessean.github.io/images/logo.png"
    },
    "author": {
        "@type": "Person",
        "name":  null ,
        
        "image": {
            "@type": "ImageObject",
            "url": "https://colorlessean.github.io/images/logo.png",
            "width": 250,
            "height": 250
        }, 
        
        "url":  null ,
        "sameAs": [
            
            
             
             
             
             
             
            
        ]
    },
    "headline": "Product API",
    "name": "Product API",
    "wordCount":  593 ,
    "timeRequired": "PT3M",
    "inLanguage": {
      "@type": "Language",
      "alternateName": "en"
    },
    "url": "https://colorlessean.github.io/post/productapi/",
    "datePublished": "2021-02-27T00:00Z",
    "dateModified": "2021-02-27T00:00Z",
    
    
    "description": "",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://colorlessean.github.io/post/productapi/"
    }
}
    </script>
    


    

    

    
</head>
<body class="nav-closed">

  <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
        
        
        
            <br />
            <li class="nav-opened" role="presentation">
            	<a href="https://colorlessean.github.io/">Home</a>
            </li>
        
            <br />
            <li class="nav-opened" role="presentation">
            	<a href="https://colorlessean.github.io/post">Blog</a>
            </li>
        
            <br />
            <li class="nav-opened" role="presentation">
            	<a href="https://colorlessean.github.io/product">Product</a>
            </li>
        
            <br />
            <li class="nav-opened" role="presentation">
            	<a href="https://colorlessean.github.io/about">About</a>
            </li>
        
        
    </ul>

    
    <a class="subscribe-button icon-feed" href="https://colorlessean.github.io/index.xml">Subscribe</a>
    
</div>
<span class="nav-cover"></span>


 <div class="site-wrapper">



<header class="main-header post-head no-cover">
  <nav class="main-nav clearfix">


  
      <a class="blog-logo" href="https://colorlessean.github.io/"><img src="https://colorlessean.github.io/images/logo.png" alt="Home" /></a>
  
  
      <a class="menu-button" href="#"><span class="burger">&#9776;</span><span class="word">Menu</span></a>
  
  </nav>
</header>



<main class="content" role="main">




  <article class="post post">

    <header class="post-header">
        <h1 class="post-title">Product API</h1>
        <small></small>

        <section class="post-meta">
        
          <time class="post-date" datetime="2021-02-27T00:00:00Z">
            Feb 27, 2021
          </time>
        
         
        </section>
    </header>

    <section class="post-content">
      <h2 id="purpose">Purpose</h2>
<p>The product API is the second component of the back-end service. It is responsible for all the business logic in the product.</p>
<h2 id="security-middleware">Security Middleware</h2>
<p>The product API is a stateless API. In essence this means that the API will not remember if a client is signed in or not. It will simply take in any API request handle it the same way based on the payload and return immediately. In order to tell the API that a client is authorized to do what its requesting there needs to be a layer of security. This is where the authorization token comes in. For this implementation JWTs are being made use of. The token is issued to users who are signed in by the authorization APi. A piece of middleware on the back-end will verify the token&rsquo;s validity before processing the request at the proper endpoint.</p>
<h2 id="endpoints">Endpoints</h2>
<h3 id="device">/device/</h3>
<p>Device endpoint is responsible for individual devices.</p>
<p>It has a single acceptable request type which is a GET request. This request takes in a unique device name and returns device information.</p>
<h3 id="owns">/owns/</h3>
<p>Endpoint is responsible for returning ownership relations between users and their owned devices.</p>
<p>It has a single acceptable request type of GET. This request takes in the type of client which can be user or device. It returns a list of all the ownership relationships involving the requesting user or device.</p>
<h3 id="delivery">/delivery/</h3>
<p>Delivery is responsible for all of the delivery PIN operations.</p>
<p>It has three HTTP request types available for usage. GET, POST, and DELETE.</p>
<p>GET takes in a delivery ID and will return device name, and the delivery pin.</p>
<p>POST takes in a device ID and delivery PIN and creates a new delivery for that device with the new pin.</p>
<p>DELETE takes in a delivery ID and removes this from usage.</p>
<h3 id="verify">/verify/</h3>
<p>Verify is the endpoint that is used exclusively by the device. It is of course acceptable to call from anything but is used for the device to react upon the response to open or not.</p>
<p>There is one acceptable call type which is a POST request. The caller sends a device name and the pin it&rsquo;s trying to verify. It then returns to the caller if the pin requested is valid or not as well as what type of pin it is if it was valid. I.e. if it was a master pin or delivery pin. If the pin is valid it will send an email notification to the user&rsquo;s email address. If the pin is a valid delivery pin it will automatically delete it from the database keeping the pin as a one time pin.</p>
<h3 id="user">/user/</h3>
<p>User is used to send and receive user information.</p>
<p>There are two acceptable request types: GET and POST.</p>
<p>Upon a GET request the client sends a user name and receives back the email address.</p>
<p>Upon a POST request the client sends a user name and email address to be registered. This is called upon sign up so that the product database has a copy of the user state.</p>
<h3 id="deliveries">/deliveries/</h3>
<p>Deliveries is used to retrieve the relationship between a device and registered deliveries. Since this is a one to many relationship only the device name is needed to retrieve unique to it deliveries. There is only GET requests to this endpoint.</p>
<p>Client needs to send a device name and will receive a list of deliveries with their delivery IDs, and list of PINs. This will be used by the chrome extension to allow users to see all their PINs for a each of their devices.</p>

    </section>


  <footer class="post-footer">


    








<figure class="author-image">
    <a class="img" href="https://colorlessean.github.io/" style="background-image: url(/images/logo.png)"><span class="hidden">Sean O&#39;Sullivan's Picture</span></a>
</figure>


<section class="author">
  <h4><a href="https://colorlessean.github.io/">Sean O&#39;Sullivan</a></h4>
  
  <p>Read <a href="https://colorlessean.github.io/">more posts</a> by this author.</p>
  
  <div class="author-meta">
    <span class="author-location icon-location">Waterloo, ON</span>
    
  </div>
</section>




    
<section class="share">
  <h4>Share this post</h4>
  <a class="icon-twitter" style="font-size: 1.4em" href="https://twitter.com/share?text=Product%20API&nbsp;-&nbsp;Porch%20Vault&amp;url=https%3a%2f%2fcolorlessean.github.io%2fpost%2fproductapi%2f"
      onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
      <span class="hidden">Twitter</span>
  </a>
  <a class="icon-facebook" style="font-size: 1.4em" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fcolorlessean.github.io%2fpost%2fproductapi%2f"
      onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
      <span class="hidden">Facebook</span>
  </a>
  <a class="icon-pinterest" style="font-size: 1.4em" href="http://pinterest.com/pin/create/button/?url=https%3a%2f%2fcolorlessean.github.io%2fpost%2fproductapi%2f&amp;description=Product%20API"
      onclick="window.open(this.href, 'pinterest-share','width=580,height=296');return false;">
      <span class="hidden">Pinterest</span>
  </a>
  <a class="icon-google-plus" style="font-size: 1.4em" href="https://plus.google.com/share?url=https%3a%2f%2fcolorlessean.github.io%2fpost%2fproductapi%2f"
     onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
      <span class="hidden">Google+</span>
  </a>
</section>



    







  </footer>
</article>

</main>


  <aside class="read-next">
  
      <a class="read-next-story" style="no-cover" href="https://colorlessean.github.io/post/apiadjustments/">
          <section class="post">
              <h2>API Adjustments</h2>
              
          </section>
      </a>
  
  
      <a class="read-next-story prev" style="no-cover" href="https://colorlessean.github.io/post/converting_react_to_chrome_ext/">
          <section class="post">
              <h2>React app to Chrome extension</h2>
          </section>
      </a>
  
</aside>



    <footer class="site-footer clearfix">
        <section class="copyright"><a href="">Porch Vault</a> Â© PorchVault 2021</section>
        
        <section class="poweredby">Proudly generated by <a class="icon-hugo" href="http://gohugo.io">HUGO</a>, with <a class="icon-theme" href="https://github.com/vjeantet/hugo-theme-casper">Casper</a> theme</section>
        
    </footer>
    </div>
    <script type="text/javascript" src="https://colorlessean.github.io/js/jquery.js"></script>
    <script type="text/javascript" src="https://colorlessean.github.io/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://colorlessean.github.io/js/index.js"></script>
    
</body>
</html>

